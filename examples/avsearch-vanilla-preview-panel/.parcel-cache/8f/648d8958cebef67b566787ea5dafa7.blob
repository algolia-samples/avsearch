var _algoliaAutocompleteJs = require("@algolia/autocomplete-js");
var _algoliasearchLite = require("algoliasearch/lite");
var _parcelHelpers = require("@parcel/transformer-js/lib/esmodule-helpers.js");
var _algoliasearchLiteDefault = _parcelHelpers.interopDefault(_algoliasearchLite);
var _preact = require("preact");
require("@algolia/autocomplete-theme-classic");
var _jsxFileName = "/Users/chuckmeyer/Documents/GitHub/avsearch/examples/avsearch-vanilla-preview-panel/app.tsx";
const searchClient = _algoliasearchLiteDefault.default("OKF83BFQS4", "2ee1381ed11d3fe70b60605b1e2cd3f4");
_algoliaAutocompleteJs.autocomplete({
  container: "#autocomplete",
  detachedMediaQuery: "",
  openOnFocus: true,
  defaultActiveItemId: 0,
  placeholder: "Search Sessions",
  getSources({query, state}) {
    if (!query) {
      return [];
    }
    return [{
      sourceId: "hits",
      getItems({query}) {
        return _algoliaAutocompleteJs.getAlgoliaResults({
          searchClient,
          queries: [{
            indexName: "devcon-22-sessions",
            query,
            params: {
              attributesToSnippet: ["videoTitle:10", "text:20"],
              snippetEllipsisText: "â€¦",
              hitsPerPage: 10,
              distinct: 3
            }
          }]
        });
      },
      getItemUrl({item}) {
        return item.url;
      },
      onActive({item, setContext}) {
        setContext({
          preview: item
        });
      },
      templates: {
        header() {
          return _preact.h("strong", {
            __self: this,
            __source: {
              fileName: _jsxFileName,
              lineNumber: 52,
              columnNumber: 20
            }
          }, "Sessions");
        },
        item({item, components}) {
          return _preact.h("a", {
            className: "aa-ItemLink",
            href: item.url,
            __self: this,
            __source: {
              fileName: _jsxFileName,
              lineNumber: 56,
              columnNumber: 15
            }
          }, _preact.h("div", {
            className: "aa-ItemContent",
            __self: this,
            __source: {
              fileName: _jsxFileName,
              lineNumber: 57,
              columnNumber: 17
            }
          }, _preact.h("div", {
            className: "aa-ItemContentBody",
            __self: this,
            __source: {
              fileName: _jsxFileName,
              lineNumber: 58,
              columnNumber: 19
            }
          }, _preact.h("div", {
            className: "aa-ItemContentTitle",
            __self: this,
            __source: {
              fileName: _jsxFileName,
              lineNumber: 59,
              columnNumber: 21
            }
          }, _preact.h(components.Snippet, {
            hit: item,
            attribute: "videoTitle",
            __self: this,
            __source: {
              fileName: _jsxFileName,
              lineNumber: 60,
              columnNumber: 23
            }
          })))));
        }
      }
    }];
  },
  render({children, state, Fragment, components}, root) {
    const {preview} = state.context;
    if (!preview) {
      _preact.render(_preact.h(Fragment, {
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 75,
          columnNumber: 9
        }
      }, _preact.h("div", {
        className: "aa-Grid",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 76,
          columnNumber: 11
        }
      }, _preact.h("div", {
        className: "aa-Results aa-Column",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 77,
          columnNumber: 13
        }
      }, children))), root);
    } else {
      _preact.render(_preact.h(Fragment, {
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 84,
          columnNumber: 9
        }
      }, _preact.h("div", {
        className: "aa-Grid",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 85,
          columnNumber: 11
        }
      }, _preact.h("div", {
        className: "aa-Results aa-Column",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 86,
          columnNumber: 13
        }
      }, children), _preact.h("div", {
        className: "aa-Preview aa-Column",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 87,
          columnNumber: 13
        }
      }, _preact.h("div", {
        className: "aa-PreviewImage",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 88,
          columnNumber: 15
        }
      }, _preact.h("img", {
        src: preview.thumbnail,
        alt: preview.videoTitle,
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 89,
          columnNumber: 17
        }
      })), _preact.h("div", {
        className: "aa-PreviewTitle",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 91,
          columnNumber: 15
        }
      }, _preact.h(components.Snippet, {
        hit: preview,
        attribute: "videoTitle",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 92,
          columnNumber: 17
        }
      })), _preact.h("div", {
        class: "aa-PreviewContentSubtitle",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 94,
          columnNumber: 15
        }
      }, preview.categories.join(", ")), _preact.h("hr", {
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 97,
          columnNumber: 15
        }
      }), _preact.h("div", {
        className: "aa-ItemContentDescription",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 98,
          columnNumber: 15
        }
      }, _preact.h(components.Highlight, {
        hit: preview,
        attribute: "text",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 99,
          columnNumber: 17
        }
      }))))), root);
    }
  }
});
